<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="{lang:}">
  <head>
    <title>RSpec.info: Mocks and Stubs</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="RSpec, {title: }, BDD, behaviour driven development, behavior driven development, TDD, test driven development, Ruby, Rails, testing, watir, selenium"/>

    <!-- CodeRay syntax highlighting CSS -->
    <link rel="stylesheet" href="/rspec-1-3-2-info/css/coderay.css" type="text/css" />

    <!-- Homepage CSS -->
    <link rel="stylesheet" href="/rspec-1-3-2-info/css/breadcrumbs.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="/rspec-1-3-2-info/css/default.css" type="text/css" media="screen, projection" />

    <style><!--
    div.breadcrumbs ul li {
    	background-image: url(/images/arrow.gif);
    }
    --></style>
  </head>
<body>

<div id="container">
  <div id="header">
    <h1><a href="/rspec-1-3-2info/">rspec-1.3.2 | rspec-rails-1.3.4</a></h1>
  </div>

  <div class="breadcrumb-menu">      <div class="breadcrumbs">
        <ul>
        
          
            <li><a href="/rspec-1-3-2-info/">Home</a></li>
          
        
          
            <li><a href="/rspec-1-3-2-info/documentation/">RSpec</a></li>
          
        
          
            <li class="current"><a href="/rspec-1-3-2-info/documentation/mocks/">Mocks and Stubs</a></li>
          
        
        </ul>
      </div>
      <div class="menu">
        <ul>
        
          <li>
            <a href="/rspec-1-3-2-info/documentation/mocks/message_expectations.html">Message Expectations</a>
          </li>
        
          <li>
            <a href="/rspec-1-3-2-info/documentation/mocks/stubs.html">Method Stubs</a>
          </li>
        
          <li>
            <a href="/rspec-1-3-2-info/documentation/mocks/partial_mocks.html">Mock Object behaviour on Real Objects</a>
          </li>
        
          <li>
            <a href="/rspec-1-3-2-info/documentation/mocks/other_frameworks.html">Other Mock/Stub Frameworks</a>
          </li>
        
        
        
                </ul>
      </div>
</div>

  <div id="content">
    <h2>Mocks and Stubs</h2>
<p>Mock objects are imitation objects that give you declarative control over their<br />
behaviour in the course of the execution of an example. Defining <a href="message_expectations.html">message<br />
expectations</a> and <a href="stubs.html">method stubs</a> on mock<br />
objects allows you to specify how one object collaborates with others before<br />
those other objects exist.</p>
<p>You can also use mock objects to isolate your examples from services that are<br />
complex to set up or expensive to run, thereby keeping your suite of examples<br />
running quickly.</p>
<p>RSpec ships with a built-in mock object framework that lets you create mock<br />
objects in your examples or add mock-object-like behaviour to your existing<br />
objects.</p>
<h3>Creating a mock object</h3>
<p>You create a mock object with the <code>mock</code> method:</p>
<div class="CodeRay">
<pre>my_mock = mock(name)
</pre>
</div>
<p>This creates a new mock with the given <code>name</code> (a string) and<br />
registers it. When the example finishes, all registered mocks are verified.</p>
<div class="CodeRay">
<pre>my_mock = mock(name, stubs)
</pre>
</div>
<p>As above, but allows you to set stub return values for specific messages.</p>
<h3>Notes</h3>
<p>There are many different viewpoints about the meaning of mocks and stubs. If<br />
you are interested in learning more, here is some recommended reading:</p>
<ul>
	<li>Mock Objects: <a href="http://www.mockobjects.com/">http://www.mockobjects.com/</a></li>
	<li>Endo-Testing:<a href="http://www.mockobjects.com/files/endotesting.pdf">http://www.mockobjects.com/files/endotesting.pdf</a></li>
	<li>Mock Roles, Not Objects: <a href="http://www.mockobjects.com/files/mockrolesnotobjects.pdf">http://www.mockobjects.com/files/mockrolesnotobjects.pdf</a></li>
	<li>Test Double Patterns: <a href="http://xunitpatterns.com/Test%20Double%20Patterns.html">http://xunitpatterns.com/Test%20Double%20Patterns.html</a></li>
	<li>Mocks aren&#8217;t stubs: <a href="http://www.martinfowler.com/articles/mocksArentStubs.html">http://www.martinfowler.com/articles/mocksArentStubs.html</a></li>
</ul>
    
    <div id="footer">
      Webdesign by <a href="http://www.oswd.org/user/profile/id/9462">JM</a>
      <SCRIPT type='text/javascript' language='JavaScript' src='https://www.ohloh.net/projects/4386;badge_js'></SCRIPT>
    </div>
  </div>
</div>

<script src="https://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1889510-1";
urchinTracker();
</script>
</body>
</html>
